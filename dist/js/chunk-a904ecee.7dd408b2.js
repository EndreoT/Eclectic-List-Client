(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a904ecee"],{"164c":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("h2",[t._v(t._s(t.field.label))]),a("select",{staticClass:"form-group",attrs:{required:""},domProps:{value:t.formData[t.field.name]},on:{input:function(e){t.$emit("input",e.target.value)}}},t._l(t.formData.categories,function(e){return a("option",{key:e._id},[t._v(t._s(e.category))])}),0)])},s=[],i={name:"SelectList",props:["field","formData"]},n=i,o=a("2877"),c=Object(o["a"])(n,r,s,!1,null,null,null);c.options.__file="SelectList.vue";e["a"]=c.exports},"446e":function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("h2",[t._v(t._s(t.field.label))]),a("textarea",{staticClass:"form-group",attrs:{type:"text",name:t.field.name,placeholder:t.field.placeholder,rows:t.field.rows,cols:t.field.cols,required:t.required},domProps:{value:t.formData[t.field.name]},on:{input:function(e){t.$emit("input",e.target.value)}}})])},s=[],i={name:"TextInput",props:["field","formData","required"]},n=i,o=a("2877"),c=Object(o["a"])(n,r,s,!1,null,null,null);c.options.__file="TextInput.vue";e["a"]=c.exports},"7f59":function(t,e,a){},"8bbf":function(t,e,a){"use strict";var r=a("7f59"),s=a.n(r);s.a},a63d:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("div",{directives:[{name:"show",rawName:"v-show",value:t.list,expression:"list"}]},[a("p",{attrs:{id:"total-items"}},[t._v("Total "+t._s(t.listName)+": "+t._s(t.totalItems))]),a("div",{staticClass:"container",attrs:{id:"image-container"}},[a("div",{staticClass:"row"},t._l(t.list,function(e){return a("div",{key:e._id},[a(t.view,{tag:"component",attrs:{listItem:e}})],1)}),0)])])])},s=[],i={name:"unorderedList",props:["list","listName","totalItems","view"]},n=i,o=(a("8bbf"),a("2877")),c=Object(o["a"])(n,r,s,!1,null,"cc45dfe2",null);c.options.__file="ImageInLineView.vue";e["a"]=c.exports},b3be:function(t,e,a){},c9c2:function(t,e,a){"use strict";a.r(e);var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"container",attrs:{id:"page-content"}},[a("h1",{attrs:{id:"page-title"}},[t._v("Create Post")]),a("div",{staticClass:"container",attrs:{id:"content"}},[a("form",{on:{submit:function(e){return e.preventDefault(),t.submitPost(e)}}},[t._l(t.schema,function(e,r){return a(e.fieldType,{key:r,tag:"component",attrs:{field:e,formData:t.formData,required:!0},model:{value:t.formData[e.name],callback:function(a){t.$set(t.formData,e.name,a)},expression:"formData[field.name]"}})}),a("div",{staticClass:"row"},[a("div",{staticClass:"col-md-6"},[a("form",{attrs:{action:"postImage",method:"post",enctype:"multipart/form-data"},on:{change:t.onFileChange}},[a("input",{attrs:{type:"file",name:"file",multiple:""}})])]),a("div",{staticClass:"col-md-6"},[a("div",{attrs:{id:"form-control-buttons"}},[a("button",{staticClass:"btn btn-warning btn-override",attrs:{type:"button"},on:{click:t.removeImages}},[t._v("Remove images")])])])]),a("div",{staticClass:"row"},[a("ImageInLineView",{attrs:{view:t.view,list:t.formData.images,listName:t.listName,totalItems:t.numPostImages}})],1),t._m(0)],2)])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"row justify-content-md-center"},[a("button",{staticClass:"btn btn-primary btn-override",attrs:{type:"submit"}},[t._v("Create Post")])])}],i=(a("96cf"),a("3b8d")),n=(a("cadf"),a("551c"),a("097d"),a("d610")),o=a("164c"),c=a("446e"),l=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"col-md-auto"},[a("div",{attrs:{id:""}},[a("img",{staticClass:"post-image",attrs:{src:t.displayImage(t.listItem),db_id:t.listItem._id}})])])},u=[],m={name:"imageListView",props:["listItem"],methods:{displayImage:function(t){return URL.createObjectURL(t)}}},p=m,f=a("2877"),d=Object(f["a"])(p,l,u,!1,null,null,null);d.options.__file="PostImagesForCreatePost.vue";var v=d.exports,g=a("a63d"),h=a("cc9a"),b=a("bf92"),_="https://eclectic-list-server.herokuapp.com/api/posts/createPost/",I={name:"createPost",components:{NumberInput:n["a"],SelectList:o["a"],TextInput:c["a"],ImageInLineView:g["a"],PostImagesForCreatePost:v},data:function(){return{initData:{error:"",postUrl:""},formData:{categories:[],userId:"",subject:"",description:"",category:"",price:0,images:[]},schema:h["a"],listName:"Post Images",view:v}},created:function(){this.formData.userId=this.$store.getters["auth/userId"],this.initData.postUrl=this.$route.params.post},mounted:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,this.getCategories();case 2:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),computed:{numPostImages:function(){return this.formData.images.length}},methods:{getCategories:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(b["f"])();case 3:e=t.sent,200===e.status?(this.formData.categories=e.data,this.formData.category=e.data[0].category):this.initData.error=e.data.message,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),onFileChange:function(t){this.formData.images.push(t.target.files[0])},removeImages:function(){this.formData.images=[]},submitPost:function(){var t=Object(i["a"])(regeneratorRuntime.mark(function t(){var e,a;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,e={userId:this.formData.userId,subject:this.formData.subject,description:this.formData.description,category:this.formData.category,price:this.formData.price},t.next=4,Object(b["o"])(e,_,"post");case 4:return a=t.sent,t.next=7,Object(b["r"])(this.formData.images,a._id);case 7:this.$router.push("/posts/".concat(a._id)),t.next=13;break;case 10:t.prev=10,t.t0=t["catch"](0),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));function e(){return t.apply(this,arguments)}return e}()}},w=I,D=(a("d27a"),Object(f["a"])(w,r,s,!1,null,null,null));D.options.__file="CreatePost.vue";e["default"]=D.exports},cc9a:function(t,e,a){"use strict";var r={fieldType:"SelectList",name:"category",multi:!1,label:"Category",options:[]},s={fieldType:"TextInput",placeholder:"Subject",label:"Subject",name:"subject",rows:"1",cols:"100"},i={fieldType:"TextInput",placeholder:"Description",label:"Description",name:"description",rows:"10",cols:"100"},n={fieldType:"NumberInput",placeholder:"Price",name:"price",label:"Price",minValue:0},o=[r,s,i,n];e["a"]=o},d27a:function(t,e,a){"use strict";var r=a("b3be"),s=a.n(r);s.a},d610:function(t,e,a){"use strict";var r=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"form-group"},[a("label",[t._v(t._s(t.field.label))]),a("input",{staticClass:"form-group",attrs:{type:"number",step:"0.01",name:t.field.name,placeholder:t.field.placeholder},domProps:{value:t.formData[t.field.name]},on:{input:function(e){t.$emit("input",e.target.value)}}})])},s=[],i={name:"NumberInput",props:["field","formData"]},n=i,o=a("2877"),c=Object(o["a"])(n,r,s,!1,null,null,null);c.options.__file="NumberInput.vue";e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-a904ecee.7dd408b2.js.map