(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-84b6046e"],{"02f4":function(t,e,s){var a=s("4588"),r=s("be13");t.exports=function(t){return function(e,s){var i,n,o=String(r(e)),c=a(s),l=o.length;return c<0||c>=l?t?"":void 0:(i=o.charCodeAt(c),i<55296||i>56319||c+1===l||(n=o.charCodeAt(c+1))<56320||n>57343?t?o.charAt(c):i:t?o.slice(c,c+2):n-56320+(i-55296<<10)+65536)}}},"1e81":function(t,e,s){"use strict";var a=s("623d"),r=s.n(a);r.a},"259a":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t.error?s("div",{staticClass:"alert alert-dismissible alert-danger"},[t._v(t._s(t.error))]):t._e()])},r=[],i={name:"ResourceRetrievalError",props:["error"]},n=i,o=s("2877"),c=Object(o["a"])(n,a,r,!1,null,null,null);c.options.__file="ResourceRetrievalError.vue";e["a"]=c.exports},"37d3":function(t,e,s){"use strict";s.r(e);var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"container",attrs:{id:"page-content"}},[t.post?s("div",[s("h1",{attrs:{id:"page-title"}},[t._v(t._s(t.post.subject)+" - $"+t._s(t.post.price))]),s("div",{staticClass:"container",attrs:{id:"content"}},[s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("p",[t._v(t._s(t.post.description))])])]),s("hr",{staticClass:"style1"}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-12"},[s("p",[t._v("\n            Posted by:\n            "),s("router-link",{attrs:{to:"/user/"+t.post.user.username}},[t._v(t._s(t.post.user.username))])],1)])]),s("hr",{staticClass:"style1"}),s("ImageInLineView",{attrs:{view:t.view,list:t.images,listName:t.listName,totalItems:t.totalItems}}),s("hr",{staticClass:"style1"}),s("div",{staticClass:"row"},[s("div",{staticClass:"col-md-4 text-muted"},[s("p",[t._v("Post id: "+t._s(t.post._id))])]),s("div",{staticClass:"col-md-4"},[s("div",{staticClass:"text-muted"},[s("p",[t._v("\n              Category:\n              "),s("router-link",{attrs:{align:"right",to:"/categories/"+t.post.category.category}},[t._v(t._s(t.post.category.category))])],1)])]),s("div",{staticClass:"col-md-4 text-muted"},[s("p",[t._v("Posted on "+t._s(t.post.dateCreatedFormatted))])])]),s("hr",{staticClass:"style1"}),s("div",{staticStyle:{"text-align":"center"}},[t.authenticatedToAlterPost?s("button",{staticClass:"btn btn-primary",attrs:{type:"button"},on:{click:t.editPost}},[t._v("Edit Post")]):t._e(),s("div",{staticClass:"divider"}),t.authenticatedToAlterPost?s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-toggle":"modal","data-target":"#deleteModal"}},[t._v("Delete Post")]):t._e(),s("div",{staticClass:"modal fade",attrs:{id:"deleteModal",tabindex:"-1",role:"dialog","aria-labelledby":"ModalLabel","aria-hidden":"true"}},[s("div",{staticClass:"modal-dialog",attrs:{role:"document"}},[s("div",{staticClass:"modal-content"},[t._m(0),s("div",{staticClass:"modal-body"},[t._v("Subject: "+t._s(t.post.subject))]),s("div",{staticClass:"modal-footer"},[s("button",{staticClass:"btn btn-secondary",attrs:{type:"button","data-dismiss":"modal"}},[t._v("Close")]),s("button",{staticClass:"btn btn-danger",attrs:{type:"button","data-dismiss":"modal"},on:{click:t.confirmDeletePost}},[t._v("Delete Post")])])])])])]),s("br"),s("hr",{staticClass:"style1"}),s("p",[t._v("Number of comments: "+t._s(t.numberOfComments))]),t.authenticatedToPostComment?s("div",[t.formData.emptyComment?s("div",{staticClass:"alert alert-dismissible alert-warning"},[s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"alert"}},[t._v("×")]),s("p",{staticClass:"mb-0"},[t._v("Comment must not be empty")])]):t._e(),s("form",{on:{submit:function(e){return e.preventDefault(),t.submitComment(e)}}},[s(t.comment.fieldType,{tag:"component",attrs:{field:t.comment,formData:t.formData,required:!1},model:{value:t.formData[t.comment.name],callback:function(e){t.$set(t.formData,t.comment.name,e)},expression:"formData[comment.name]"}}),s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"}},[t._v("Create comment")])],1)]):s("div",[s("button",{staticClass:"btn btn-primary",attrs:{type:"submit"},on:{click:t.redirectToLogin}},[t._v("Login to post a comment")])]),s("br"),t.comments.length?s("div",{staticClass:"comments"},[s("h2",[t._v("Comments")]),s("ul",{staticClass:"list-group"},t._l(t.comments.slice(0).reverse(),function(e){return s("li",{key:e._id,staticClass:"list-group-item",attrs:{href:"#"}},[s("div",{staticClass:"comment"},[s("img",{staticClass:"profile-img",attrs:{src:e.user.avatar_image.path,alt:"avatar-image"}}),s("div",{staticClass:"content"},[s("router-link",{attrs:{to:"/user/"+e.user.username}},[t._v(t._s(e.user.username))]),s("p",{staticClass:"date"},[t._v("Commented on "+t._s(e.dateCreatedFormatted))]),s("div",{staticClass:"text"},[t._v(t._s(e.comment))])],1)])])}),0)]):t._e(),t.noComments?s("div",[s("h3",[t._v(t._s(t.noComments))])]):t._e(),t.error?s("div",[s("h1",[t._v(t._s(t.error))])]):t._e()],1)]):t._e()])},r=[function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"modal-header"},[s("h5",{staticClass:"modal-title"},[s("strong",[t._v("Confirm Delete Post")])]),s("button",{staticClass:"close",attrs:{type:"button","data-dismiss":"modal","aria-label":"Close"}},[s("span",{attrs:{"aria-hidden":"true"}},[t._v("×")])])])}],i=s("795b"),n=s.n(i),o=(s("ac6a"),s("5df3"),s("96cf"),s("3b8d")),c=s("446e"),l=(s("259a"),s("681c"),s("aeda"),s("a63d")),u=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"col-md-auto"},[s("div",{attrs:{id:""}},[s("img",{staticClass:"post-image",attrs:{src:t.listItem.path,db_id:t.listItem._id}})])])},m=[],d={name:"imageListView",props:["listItem"]},p=d,v=s("2877"),f=Object(v["a"])(p,u,m,!1,null,null,null);f.options.__file="PostImagesForPost.vue";var h=f.exports,_=s("bf92"),g={fieldType:"TextInput",placeholder:"Craft a comment",label:"Post a comment",name:"comment",rows:"2",cols:"100"},b={name:"post",components:{TextInput:c["a"],ImageInLineView:l["a"]},data:function(){return{pageTitle:"",post:"",listName:"Post Images",comments:[],images:[],view:h,noComments:"",comment:g,formData:{comment:"",emptyComment:!1},numberOfComments:0,error:""}},computed:{postId:function(){return this.$route.params.post},totalItems:function(){return this.images.length},userId:function(){return this.$store.getters["auth/userId"]},authenticatedToAlterPost:function(){return this.$store.getters["auth/authStatus"]&&this.$store.getters["auth/username"]===this.post.user.username},authenticatedToPostComment:function(){return this.$store.getters["auth/authStatus"]}},mounted:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:n.a.all([this.getPost(),this.getComments(),this.getImagesForPost()]);case 1:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),methods:{getPost:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_["b"])(this.postId);case 3:e=t.sent,200===e.status?(this.post=e.data,this.pageTitle=this.post.subject):this.error=e.comment,t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),getImagesForPost:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s=this;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,Object(_["i"])(this.postId);case 2:e=t.sent,e.forEach(function(t){s.images.push(t)});case 4:case"end":return t.stop()}},t,this)}));function e(){return t.apply(this,arguments)}return e}(),getComments:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_["h"])(this.postId);case 3:e=t.sent,e.data.length?(this.comments=e.data,this.numberOfComments=this.post.number_of_comments):this.noComments="No comments available.",t.next=10;break;case 7:t.prev=7,t.t0=t["catch"](0),console.log(t.t0);case 10:case"end":return t.stop()}},t,this,[[0,7]])}));function e(){return t.apply(this,arguments)}return e}(),editPost:function(){this.$router.push("/posts/".concat(this.post._id,"/").concat(this.post.user.username,"/edit"))},redirectToLogin:function(){this.$router.push("/login")},confirmDeletePost:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,Object(_["c"])(this.postId);case 3:this.$router.push("/posts/"),t.next=9;break;case 6:t.prev=6,t.t0=t["catch"](0),console.log(t.t0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));function e(){return t.apply(this,arguments)}return e}(),submitComment:function(){var t=Object(o["a"])(regeneratorRuntime.mark(function t(){var e,s;return regeneratorRuntime.wrap(function(t){while(1)switch(t.prev=t.next){case 0:if(this.formData.comment){t.next=4;break}this.formData.emptyComment=!0,t.next=18;break;case 4:return e={userId:this.userId,postId:this.postId,comment:this.formData.comment},t.prev=5,t.next=8,Object(_["a"])(e);case 8:s=t.sent,this.noComments="",this.formData.comment="",this.comments.push(s),this.numberOfComments++,this.formData.emptyComment=!1,t.next=18;break;case 15:t.prev=15,t.t0=t["catch"](5),console.log(t.t0);case 18:case"end":return t.stop()}},t,this,[[5,15]])}));function e(){return t.apply(this,arguments)}return e}()}},C=b,y=(s("1e81"),Object(v["a"])(C,a,r,!1,null,null,null));y.options.__file="Post.vue";e["default"]=y.exports},"446e":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"form-group"},[s("h2",[t._v(t._s(t.field.label))]),s("textarea",{staticClass:"form-group",attrs:{type:"text",name:t.field.name,placeholder:t.field.placeholder,rows:t.field.rows,cols:t.field.cols,required:t.required},domProps:{value:t.formData[t.field.name]},on:{input:function(e){t.$emit("input",e.target.value)}}})])},r=[],i={name:"TextInput",props:["field","formData","required"]},n=i,o=s("2877"),c=Object(o["a"])(n,a,r,!1,null,null,null);c.options.__file="TextInput.vue";e["a"]=c.exports},"4b73":function(t,e,s){"use strict";var a=s("8b14"),r=s.n(a);r.a},"56c8":function(t,e,s){"use strict";function a(t){return t.charAt(0).toUpperCase()+t.slice(1)}s.d(e,"a",function(){return a})},"5df3":function(t,e,s){"use strict";var a=s("02f4")(!0);s("01f9")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,s=this._i;return s>=e.length?{value:void 0,done:!0}:(t=a(e,s),this._i+=t.length,{value:t,done:!1})})},"623d":function(t,e,s){},"681c":function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("router-link",{attrs:{to:"/categories/"+t.listItem["category"]}},[s("h2",[t._v(t._s(t.capitalizeFirstLetter(t.listItem["category"])))])]),s("p",[t._v("Number of Posts: "+t._s(t.listItem["number_of_posts"]))])],1)},r=[],i=s("56c8"),n={name:"categoryItemView",props:["listItem"],methods:{capitalizeFirstLetter:function(t){return Object(i["a"])(t)}}},o=n,c=s("2877"),l=Object(c["a"])(o,a,r,!1,null,null,null);l.options.__file="CategoriesItemView.vue";e["a"]=l.exports},"7f59":function(t,e,s){},"8b14":function(t,e,s){},"8bbf":function(t,e,s){"use strict";var a=s("7f59"),r=s.n(a);r.a},a63d:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.list,expression:"list"}]},[s("p",{attrs:{id:"total-items"}},[t._v("Total "+t._s(t.listName)+": "+t._s(t.totalItems))]),s("div",{staticClass:"container",attrs:{id:"image-container"}},[s("div",{staticClass:"row"},t._l(t.list,function(e){return s("div",{key:e._id},[s(t.view,{tag:"component",attrs:{listItem:e}})],1)}),0)])])])},r=[],i={name:"unorderedList",props:["list","listName","totalItems","view"]},n=i,o=(s("8bbf"),s("2877")),c=Object(o["a"])(n,a,r,!1,null,"cc45dfe2",null);c.options.__file="ImageInLineView.vue";e["a"]=c.exports},ac6a:function(t,e,s){for(var a=s("cadf"),r=s("0d58"),i=s("2aba"),n=s("7726"),o=s("32e9"),c=s("84f2"),l=s("2b4c"),u=l("iterator"),m=l("toStringTag"),d=c.Array,p={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},v=r(p),f=0;f<v.length;f++){var h,_=v[f],g=p[_],b=n[_],C=b&&b.prototype;if(C&&(C[u]||o(C,u,d),C[m]||o(C,m,_),c[_]=d,g))for(h in a)C[h]||i(C,h,a[h],!0)}},aeda:function(t,e,s){"use strict";var a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{directives:[{name:"show",rawName:"v-show",value:t.list,expression:"list"}]},[s("p",{attrs:{id:"total-items"}},[t._v("Total "+t._s(t.listName)+": "+t._s(t.totalItems))]),s("ul",{staticClass:"list-group"},t._l(t.list,function(e){return s("li",{key:e._id,staticClass:"list-group-item",attrs:{href:"#"}},[s(t.view,{tag:"component",attrs:{listItem:e}})],1)}),0)])])},r=[],i={name:"unorderedList",props:["list","listName","totalItems","view"]},n=i,o=(s("4b73"),s("2877")),c=Object(o["a"])(n,a,r,!1,null,"2814a5df",null);c.options.__file="UnorderedList.vue";e["a"]=c.exports}}]);
//# sourceMappingURL=chunk-84b6046e.93258dc2.js.map